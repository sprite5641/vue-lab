{"ast":null,"code":"var _this = this;\n\nimport { createWebHistory, createRouter } from \"vue-router\"; // layouts\n\nimport Admin from \"../layouts/Admin.vue\";\nimport Auth from \"../layouts/Auth.vue\"; // import store from '../store/index.js'\n// views for Admin layout\n\nimport Dashboard from \"../pages/admin/Dashboard.vue\";\nimport Settings from \"../pages/admin/Settings.vue\";\nimport Tables from \"../pages/admin/Tables.vue\";\nimport Maps from \"../pages/admin/Maps.vue\"; // views for Auth layout\n\nimport Login from \"../pages/auth/Login.vue\";\nimport Register from \"../pages/auth/Register.vue\"; // views without layouts\n\nimport Landing from \"../pages/Landing.vue\";\nimport Profile from \"../pages/Profile.vue\";\nimport Index from \"../pages/Index.vue\"; // routes\n\nvar routes = [{\n  path: \"/admin\",\n  redirect: \"/admin/dashboard\",\n  component: Admin,\n  children: [{\n    path: \"/admin/dashboard\",\n    component: Dashboard\n  }, {\n    path: \"/admin/settings\",\n    component: Settings\n  }, {\n    path: \"/admin/tables\",\n    component: Tables\n  }, {\n    path: \"/admin/maps\",\n    component: Maps\n  }]\n}, {\n  path: \"/auth\",\n  redirect: \"/auth/login\",\n  component: Auth,\n  children: [{\n    path: \"/auth/login\",\n    component: Login\n  }, {\n    path: \"/auth/register\",\n    component: Register\n  }]\n}, {\n  path: \"/landing\",\n  component: Landing\n}, {\n  path: \"/profile\",\n  component: Profile\n}, {\n  path: \"/\",\n  component: Index\n}, {\n  path: \"/:pathMatch(.*)*\",\n  redirect: \"/\"\n}];\nvar router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  // const publicPages = ['/auth/login'];\n  // const authRequired = !publicPages.includes(to.path);\n  var loggedIn = _this.$store.state.auth.token;\n  console.log(loggedIn);\n\n  if (!loggedIn) {\n    return next('/auth/login');\n  }\n\n  next('/auth/register');\n});\nexport default router;","map":{"version":3,"sources":["C:/Users/Sprite-PC/OneDrive/เดสก์ท็อป/vue-notus/src/router/index.js"],"names":["createWebHistory","createRouter","Admin","Auth","Dashboard","Settings","Tables","Maps","Login","Register","Landing","Profile","Index","routes","path","redirect","component","children","router","history","beforeEach","to","from","next","loggedIn","$store","state","auth","token","console","log"],"mappings":";;AAAA,SAASA,gBAAT,EAA2BC,YAA3B,QAA+C,YAA/C,C,CAEA;;AAEA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,IAAP,MAAiB,qBAAjB,C,CACA;AACA;;AAEA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,IAAP,MAAiB,yBAAjB,C,CAEA;;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB,C,CAEA;;AAEA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,KAAP,MAAkB,oBAAlB,C,CAEA;;AAEA,IAAMC,MAAM,GAAG,CACX;AACEC,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,QAAQ,EAAE,kBAFZ;AAGEC,EAAAA,SAAS,EAAEd,KAHb;AAIEe,EAAAA,QAAQ,EAAE,CACR;AACEH,IAAAA,IAAI,EAAE,kBADR;AAEEE,IAAAA,SAAS,EAAEZ;AAFb,GADQ,EAKR;AACEU,IAAAA,IAAI,EAAE,iBADR;AAEEE,IAAAA,SAAS,EAAEX;AAFb,GALQ,EASR;AACES,IAAAA,IAAI,EAAE,eADR;AAEEE,IAAAA,SAAS,EAAEV;AAFb,GATQ,EAaR;AACEQ,IAAAA,IAAI,EAAE,aADR;AAEEE,IAAAA,SAAS,EAAET;AAFb,GAbQ;AAJZ,CADW,EAwBX;AACEO,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,QAAQ,EAAE,aAFZ;AAGEC,EAAAA,SAAS,EAAEb,IAHb;AAIEc,EAAAA,QAAQ,EAAE,CACR;AACEH,IAAAA,IAAI,EAAE,aADR;AAEEE,IAAAA,SAAS,EAAER;AAFb,GADQ,EAKR;AACEM,IAAAA,IAAI,EAAE,gBADR;AAEEE,IAAAA,SAAS,EAAEP;AAFb,GALQ;AAJZ,CAxBW,EAuCX;AACEK,EAAAA,IAAI,EAAE,UADR;AAEEE,EAAAA,SAAS,EAAEN;AAFb,CAvCW,EA2CX;AACEI,EAAAA,IAAI,EAAE,UADR;AAEEE,EAAAA,SAAS,EAAEL;AAFb,CA3CW,EA+CX;AACEG,EAAAA,IAAI,EAAE,GADR;AAEEE,EAAAA,SAAS,EAAEJ;AAFb,CA/CW,EAmDX;AAAEE,EAAAA,IAAI,EAAE,kBAAR;AAA4BC,EAAAA,QAAQ,EAAE;AAAtC,CAnDW,CAAf;AAsDE,IAAMG,MAAM,GAAGjB,YAAY,CAAC;AAC1BkB,EAAAA,OAAO,EAAEnB,gBAAgB,EADC;AAE1Ba,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAKAK,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA;AACA,MAAMC,QAAQ,GAAG,KAAI,CAACC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBC,KAAxC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;;AACA,MAAI,CAACA,QAAL,EAAe;AACb,WAAOD,IAAI,CAAC,aAAD,CAAX;AACD;;AAEDA,EAAAA,IAAI,CAAC,gBAAD,CAAJ;AACD,CAVD;AAYA,eAAeL,MAAf","sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\r\n\r\n// layouts\r\n\r\nimport Admin from \"../layouts/Admin.vue\";\r\nimport Auth from \"../layouts/Auth.vue\";\r\n// import store from '../store/index.js'\r\n// views for Admin layout\r\n\r\nimport Dashboard from \"../pages/admin/Dashboard.vue\";\r\nimport Settings from \"../pages/admin/Settings.vue\";\r\nimport Tables from \"../pages/admin/Tables.vue\";\r\nimport Maps from \"../pages/admin/Maps.vue\";\r\n\r\n// views for Auth layout\r\n\r\nimport Login from \"../pages/auth/Login.vue\";\r\nimport Register from \"../pages/auth/Register.vue\";\r\n\r\n// views without layouts\r\n\r\nimport Landing from \"../pages/Landing.vue\";\r\nimport Profile from \"../pages/Profile.vue\";\r\nimport Index from \"../pages/Index.vue\";\r\n\r\n// routes\r\n\r\nconst routes = [\r\n    {\r\n      path: \"/admin\",\r\n      redirect: \"/admin/dashboard\",\r\n      component: Admin,\r\n      children: [\r\n        {\r\n          path: \"/admin/dashboard\",\r\n          component: Dashboard,\r\n        },\r\n        {\r\n          path: \"/admin/settings\",\r\n          component: Settings,\r\n        },\r\n        {\r\n          path: \"/admin/tables\",\r\n          component: Tables,\r\n        },\r\n        {\r\n          path: \"/admin/maps\",\r\n          component: Maps,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      path: \"/auth\",\r\n      redirect: \"/auth/login\",\r\n      component: Auth,\r\n      children: [\r\n        {\r\n          path: \"/auth/login\",\r\n          component: Login,\r\n        },\r\n        {\r\n          path: \"/auth/register\",\r\n          component: Register,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      path: \"/landing\",\r\n      component: Landing,\r\n    },\r\n    {\r\n      path: \"/profile\",\r\n      component: Profile,\r\n    },\r\n    {\r\n      path: \"/\",\r\n      component: Index,\r\n    },\r\n    { path: \"/:pathMatch(.*)*\", redirect: \"/\" },\r\n  ];\r\n\r\n  const router = createRouter({\r\n    history: createWebHistory(),\r\n    routes,\r\n  });\r\n\r\n  router.beforeEach((to, from, next) => {\r\n    // const publicPages = ['/auth/login'];\r\n    // const authRequired = !publicPages.includes(to.path);\r\n    const loggedIn = this.$store.state.auth.token\r\n    console.log(loggedIn);\r\n    if (!loggedIn) {\r\n      return next('/auth/login');\r\n    }\r\n  \r\n    next('/auth/register');\r\n  })\r\n  \r\n  export default router;"]},"metadata":{},"sourceType":"module"}