{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { createWebHistory, createRouter } from \"vue-router\"; // var Vue = require('vue')\n// layouts\n\nimport Admin from \"../layouts/Admin.vue\";\nimport Auth from \"../layouts/Auth.vue\";\nimport store from '../store/index.js'; // views for Admin layout\n\nimport Dashboard from \"../pages/admin/Dashboard.vue\";\nimport Settings from \"../pages/admin/Settings.vue\";\nimport Tables from \"../pages/admin/Tables.vue\";\nimport Maps from \"../pages/admin/Maps.vue\"; // views for Auth layout\n\nimport Login from \"../pages/auth/Login.vue\";\nimport Register from \"../pages/auth/Register.vue\"; // views without layouts\n\nimport Landing from \"../pages/Landing.vue\";\nimport Profile from \"../pages/Profile.vue\";\nimport Index from \"../pages/Index.vue\";\nimport VueCookies from 'vue-cookies'; // routes\n\nvar routes = [{\n  path: \"/admin\",\n  redirect: \"/admin/dashboard\",\n  component: Admin,\n  children: [{\n    path: \"/admin/dashboard\",\n    name: \"/admin/dashboard\",\n    component: Dashboard\n  }, {\n    path: \"/admin/settings\",\n    name: \"/admin/settings\",\n    component: Settings\n  }, {\n    path: \"/admin/tables\",\n    name: \"/admin/tables\",\n    component: Tables\n  }, {\n    path: \"/admin/maps\",\n    name: \"/admin/maps\",\n    component: Maps\n  }]\n}, {\n  path: \"/auth\",\n  name: \"/auth\",\n  redirect: \"/auth/login\",\n  component: Auth,\n  children: [{\n    path: \"/auth/login\",\n    name: \"/auth/login\",\n    component: Login\n  }, {\n    path: \"/auth/register\",\n    name: \"/auth/register\",\n    component: Register\n  }]\n}, {\n  path: \"/landing\",\n  name: \"/landing\",\n  component: Landing\n}, {\n  path: \"/profile\",\n  name: \"/profile\",\n  component: Profile\n}, {\n  path: \"/\",\n  name: \"/\",\n  component: Index\n}, {\n  path: \"/:pathMatch(.*)*\",\n  redirect: \"/\"\n}];\nvar router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  var isAuthenticated = VueCookies.get('cookie_token'); // if(isAuthenticated && !store.state.auth.token){\n  //   store.dispatch('auth', isAuthenticated)\n  // }\n\n  if (to.name !== '/auth/login' && !isAuthenticated) next({\n    path: '/auth/login'\n  });else next();\n});\nexport default router;","map":{"version":3,"sources":["C:/Users/Sprite-PC/OneDrive/เดสก์ท็อป/vue-notus/src/router/index.js"],"names":["createWebHistory","createRouter","Admin","Auth","store","Dashboard","Settings","Tables","Maps","Login","Register","Landing","Profile","Index","VueCookies","routes","path","redirect","component","children","name","router","history","beforeEach","to","from","next","isAuthenticated","get"],"mappings":";AAAA,SAASA,gBAAT,EAA2BC,YAA3B,QAA+C,YAA/C,C,CAEA;AACA;;AAEA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,KAAP,MAAkB,mBAAlB,C,CACA;;AAEA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,IAAP,MAAiB,yBAAjB,C,CAEA;;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB,C,CAEA;;AAEA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,UAAP,MAAuB,aAAvB,C,CACA;;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,QAAQ,EAAE,kBAFZ;AAGEC,EAAAA,SAAS,EAAEhB,KAHb;AAIEiB,EAAAA,QAAQ,EAAE,CACR;AACEH,IAAAA,IAAI,EAAE,kBADR;AAEEI,IAAAA,IAAI,EAAE,kBAFR;AAGEF,IAAAA,SAAS,EAAEb;AAHb,GADQ,EAMR;AACEW,IAAAA,IAAI,EAAE,iBADR;AAEEI,IAAAA,IAAI,EAAE,iBAFR;AAGEF,IAAAA,SAAS,EAAEZ;AAHb,GANQ,EAWR;AACEU,IAAAA,IAAI,EAAE,eADR;AAEEI,IAAAA,IAAI,EAAE,eAFR;AAGEF,IAAAA,SAAS,EAAEX;AAHb,GAXQ,EAgBR;AACES,IAAAA,IAAI,EAAE,aADR;AAEEI,IAAAA,IAAI,EAAE,aAFR;AAGEF,IAAAA,SAAS,EAAEV;AAHb,GAhBQ;AAJZ,CADa,EA4Bb;AACEQ,EAAAA,IAAI,EAAE,OADR;AAEEI,EAAAA,IAAI,EAAE,OAFR;AAGEH,EAAAA,QAAQ,EAAE,aAHZ;AAIEC,EAAAA,SAAS,EAAEf,IAJb;AAKEgB,EAAAA,QAAQ,EAAE,CACR;AACEH,IAAAA,IAAI,EAAE,aADR;AAEEI,IAAAA,IAAI,EAAE,aAFR;AAGEF,IAAAA,SAAS,EAAET;AAHb,GADQ,EAMR;AACEO,IAAAA,IAAI,EAAE,gBADR;AAEEI,IAAAA,IAAI,EAAE,gBAFR;AAGEF,IAAAA,SAAS,EAAER;AAHb,GANQ;AALZ,CA5Ba,EA8Cb;AACEM,EAAAA,IAAI,EAAE,UADR;AAEEI,EAAAA,IAAI,EAAE,UAFR;AAGEF,EAAAA,SAAS,EAAEP;AAHb,CA9Ca,EAmDb;AACEK,EAAAA,IAAI,EAAE,UADR;AAEEI,EAAAA,IAAI,EAAE,UAFR;AAGEF,EAAAA,SAAS,EAAEN;AAHb,CAnDa,EAwDb;AACEI,EAAAA,IAAI,EAAE,GADR;AAEEI,EAAAA,IAAI,EAAE,GAFR;AAGEF,EAAAA,SAAS,EAAEL;AAHb,CAxDa,EA6Db;AAAEG,EAAAA,IAAI,EAAE,kBAAR;AAA4BC,EAAAA,QAAQ,EAAE;AAAtC,CA7Da,CAAf;AAgEA,IAAMI,MAAM,GAAGpB,YAAY,CAAC;AAC1BqB,EAAAA,OAAO,EAAEtB,gBAAgB,EADC;AAE1Be,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAKAM,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAEpC,MAAMC,eAAe,GAAGb,UAAU,CAACc,GAAX,CAAe,cAAf,CAAxB,CAFoC,CAIpC;AACA;AACA;;AAEA,MAAIJ,EAAE,CAACJ,IAAH,KAAY,aAAZ,IAA6B,CAACO,eAAlC,EAAmDD,IAAI,CAAC;AAAEV,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAJ,CAAnD,KACKU,IAAI;AACV,CAVD;AAYA,eAAeL,MAAf","sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\r\n\r\n// var Vue = require('vue')\r\n// layouts\r\n\r\nimport Admin from \"../layouts/Admin.vue\";\r\nimport Auth from \"../layouts/Auth.vue\";\r\nimport store from '../store/index.js'\r\n// views for Admin layout\r\n\r\nimport Dashboard from \"../pages/admin/Dashboard.vue\";\r\nimport Settings from \"../pages/admin/Settings.vue\";\r\nimport Tables from \"../pages/admin/Tables.vue\";\r\nimport Maps from \"../pages/admin/Maps.vue\";\r\n\r\n// views for Auth layout\r\n\r\nimport Login from \"../pages/auth/Login.vue\";\r\nimport Register from \"../pages/auth/Register.vue\";\r\n\r\n// views without layouts\r\n\r\nimport Landing from \"../pages/Landing.vue\";\r\nimport Profile from \"../pages/Profile.vue\";\r\nimport Index from \"../pages/Index.vue\";\r\nimport VueCookies from 'vue-cookies'\r\n// routes\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/admin\",\r\n    redirect: \"/admin/dashboard\",\r\n    component: Admin,\r\n    children: [\r\n      {\r\n        path: \"/admin/dashboard\",\r\n        name: \"/admin/dashboard\",\r\n        component: Dashboard,\r\n      },\r\n      {\r\n        path: \"/admin/settings\",\r\n        name: \"/admin/settings\",\r\n        component: Settings,\r\n      },\r\n      {\r\n        path: \"/admin/tables\",\r\n        name: \"/admin/tables\",\r\n        component: Tables,\r\n      },\r\n      {\r\n        path: \"/admin/maps\",\r\n        name: \"/admin/maps\",\r\n        component: Maps,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: \"/auth\",\r\n    name: \"/auth\",\r\n    redirect: \"/auth/login\",\r\n    component: Auth,\r\n    children: [\r\n      {\r\n        path: \"/auth/login\",\r\n        name: \"/auth/login\",\r\n        component: Login,\r\n      },\r\n      {\r\n        path: \"/auth/register\",\r\n        name: \"/auth/register\",\r\n        component: Register,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: \"/landing\",\r\n    name: \"/landing\",\r\n    component: Landing,\r\n  },\r\n  {\r\n    path: \"/profile\",\r\n    name: \"/profile\",\r\n    component: Profile,\r\n  },\r\n  {\r\n    path: \"/\",\r\n    name: \"/\",\r\n    component: Index,\r\n  },\r\n  { path: \"/:pathMatch(.*)*\", redirect: \"/\" },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  \r\n  const isAuthenticated = VueCookies.get('cookie_token')\r\n\r\n  // if(isAuthenticated && !store.state.auth.token){\r\n  //   store.dispatch('auth', isAuthenticated)\r\n  // }\r\n\r\n  if (to.name !== '/auth/login' && !isAuthenticated) next({ path: '/auth/login' })\r\n  else next()\r\n});\r\n\r\nexport default router;"]},"metadata":{},"sourceType":"module"}